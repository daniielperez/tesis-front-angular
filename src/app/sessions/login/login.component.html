<h1 id="title" class="title">Acceso</h1>
<p class="sub-title">¡Hola! Inicie sesión con su correo electrónico.</p>

<!-- <nb-alert *ngIf="error" outline="danger" role="alert">
  <p class="alert-title"><b>¡Oh cielos!</b></p>
  <ul class="alert-message-list">
    <li class="alert-message">{{ error }}</li>
  </ul>
</nb-alert> -->

<!-- <nb-alert *ngIf="showMessages.success && messages?.length && !submitted" outline="success" role="alert">
  <p class="alert-title"><b>Hooray!</b></p>
  <ul class="alert-message-list">
    <li *ngFor="let message of messages" class="alert-message">{{ message }}</li>
  </ul>
</nb-alert> -->

<form (ngSubmit)="onSubmit()" [formGroup]="loginForm" aria-labelledby="title">
  <div class="form-control-group">
    <label class="label" for="input-email">Correo:</label>
    <input
      nbInput
      fullWidth
      id="input-email"
      placeholder="Email"
      fieldSize="large"
      autofocus
      formControlName="username"
      [status]="
        f.username.dirty ? (f.username.invalid ? 'danger' : 'success') : 'basic'
      "
      [attr.aria-invalid]="
        f.username.invalid && f.username.touched ? true : null
      "
    />
    <ng-container *ngIf="f.username.invalid && f.username.touched">
      <app-form-errors [control]="f.username" campo="email"></app-form-errors>
    </ng-container>
  </div>

  <div class="form-control-group">
    <span class="label-with-link">
      <label class="label" for="input-password">Password:</label>
      <a class="forgot-password caption-2">Forgot Password?</a>
    </span>
    <input
      nbInput
      fullWidth
      id="input-email"
      placeholder="Password"
      fieldSize="large"
      autofocus
      type="password"
      formControlName="password"
      [status]="
        f.password.dirty ? (f.password.invalid ? 'danger' : 'success') : 'basic'
      "
      [attr.aria-invalid]="
        f.password.invalid && f.password.touched ? true : null
      "
    />
    <ng-container *ngIf="f.password.invalid && f.password.touched">
      <app-form-errors
        [control]="f.password"
        campo="Contraseña"
      ></app-form-errors>
    </ng-container>
  </div>

  <button
    nbButton
    fullWidth
    status="primary"
    size="large"
    [disabled]="!loginForm.valid"
  >
    Iniciar sesión
  </button>
</form>

<!-- <div class="col-md-6 offset-md-3 mt-5">
  <div class="alert alert-info">
    Username: test<br />
    Password: test
  </div>
  <div class="card">
    <h4 class="card-header">Sistema de autenticacion</h4>
    <div class="card-body">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            formControlName="username"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.username.errors }"
          />
          <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
            <div *ngIf="f.username.errors.required">Username is required</div>
          </div>
        </div>
        <div class="form-group">
          <label for="password"> Password</label>
          <input
            type="password"
            formControlName="password"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
          />
          <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
            <div *ngIf="f.password.errors.required">Password is required</div>
          </div>
        </div>
        <button [disabled]="loading" class="btn btn-primary">
          <span
            *ngIf="loading"
            class="spinner-border spinner-border-sm mr-1"
          ></span>
          Login
        </button>
        <div *ngIf="error" class="alert alert-danger mt-3 mb-0">
          {{ error }}
        </div>
      </form>
    </div>
  </div>
</div> -->
